# 需求规格说明文档

## 更新历史

|   修改人员   |   日期   | 变更原因       |  版本号  |
| :----------: | :------: | :------------- | :------: |
| 郭礼华、韩禧 | 2020.4.9 | 添加引言等内容 | 最初草稿 |

## 目录

[TOC]

## 3.详细需求描述

### 3.1 对外接口描述

### 3.2 功能需求

#### 3.2.10 搜索酒店

##### 3.2.10.1 特征描述

##### 3.2.10.2 刺激/相应序列

##### 3.2.10.3 相关功能需求

#### 3.2.11 取消订单

##### 3.2.11.1 特征描述

##### 3.2.11.2 刺激/相应序列

##### 3.2.11.3 相关功能需求

#### 3.2.12 打分及添加评论

##### 3.2.12.1 特征描述

##### 3.2.12.2 刺激/相应序列

##### 3.2.12.3 相关功能需求

#### 3.2.13 向酒店提问

##### 3.2.13.1 特征描述

##### 3.2.13.2 刺激/相应序列

##### 3.2.13.3 相关功能需求

#### 3.2.14 收藏酒店

##### 3.2.14.1 特征描述

##### 3.2.14.2 刺激/相应序列

##### 3.2.14.3 相关功能需求

#### 3.2.15 注册会员

##### 3.2.15.1 特征描述

##### 3.2.15.2 刺激/相应序列

##### 3.2.15.3 相关功能需求

#### 3.2.16 申诉异常订单

##### 3.2.16.1 特征描述

##### 3.2.16.2 刺激/相应序列

##### 3.2.16.3 相关功能需求

#### 3.2.17 管理酒店房间

##### 3.2.17.1 特征描述

##### 3.2.17.2 刺激/相应序列

##### 3.2.17.3 相关功能需求

#### 3.2.18 办理入住

##### 3.2.18.1 特征描述

##### 3.2.18.2 刺激/相应序列

##### 3.2.18.3 相关功能需求

#### 3.2.19 设置订单异常

##### 3.2.19.1 特征描述

##### 3.2.19.2 刺激/相应序列

##### 3.2.19.3 相关功能需求

#### 3.2.20 设置优惠策略

##### 3.2.20.1 特征描述

##### 3.2.20.2 刺激/相应序列

##### 3.2.20.3 相关功能需求

#### 3.2.21 查看订单及营收情况

##### 3.2.21.1 特征描述

##### 3.2.21.2 刺激/相应序列

##### 3.2.21.3 相关功能需求

#### 3.2.22 管理酒店

##### 3.2.22.1 特征描述

已经登陆并授权的系统管理员可以查看网站上所有入驻的网站，并可以执行网站的管理工作，包括添加、删除和修改酒店。

##### 3.2.22.2 刺激/相应序列

刺激： 系统管理员选择管理酒店

响应： 系统向系统管理员展示所有酒店及酒店信息

刺激： 系统管理员选择添加酒店

响应： 系统向系统管理员展示添加酒店页面

刺激： 系统管理员填写添加酒店基本信息后确认添加

响应： 系统存储新添加的酒店，并展示添加后的所有酒店

刺激： 系统管理员选择删除某酒店

响应： 系统删除对应的酒店，并展示删除后的所有酒店

刺激： 系统管理员选择更改某个酒店的基本信息

响应： 系统展示该酒店原始基本信息

刺激： 系统管理员输入更新后的信息

响应： 系统更新该酒店的基本信息，并展示更新后的所有酒店

##### 3.2.22.3 相关功能需求

|                          |                                                              |
| ------------------------ | ------------------------------------------------------------ |
| Hotel.Manage             | 系统应该允许系统管理员进行酒店的管理工作，并展示网站现有的所有酒店 |
| Hotel.Manage.Add         | 在系统管理员要求添加酒店时，系统要跳转至添加酒店页面，参见Hotel.Add |
| Hotel.Manage.Delete      | 在系统管理员要求删除酒店时，系统执行删除酒店任务，参见Hotel.Delete |
| Hotel.Manage.Modify      | 在系统管理员要求修改酒店基本信息时，系统要跳转至修改酒店信息页面，参见Hotel.Modify |
| Hotel.Add.Input          | 在添加酒店时，系统要求系统管理员进行酒店基本信息输入         |
| Hotel.Add.Cancel         | 系统管理员放弃添加酒店，系统回到展示网站所有酒店页面         |
| Hotel.Add.Check          | 系统给管理员输入添加酒店基本信息后，系统验证信息的合法性，参见Hotel.Check |
| Hotel.Add.End            | 系统管理员结束输入并确认，系统存储添加的酒店并回到酒店展示页面 |
| Hotel.Delete             | 系统管理员确认删除某个酒店，系统删除该酒店并回到酒店展示页面 |
| Hotel.Delete.Cancel      | 系统管理员放弃删除某个酒店，系统不做改动，回到酒店展示页面   |
| Hotel.Modify.Input       | 在修改酒店时，系统要求系统管理员对原有基本信息进行修改       |
| Hotel.Modify.Cancel      | 管理员放弃修改酒店信息，系统不做改动，回到酒店展示页面       |
| Hotel.Modify.Check       | 系统给管理员输入修改后的酒店基本信息后，系统验证信息的合法性，参见Hotel.Check |
| Hotel.Modify.End         | 系统管理员结束输入并确认，系统修改对应的酒店信息并回到酒店展示页面 |
| Hotel.Check.HotelAddress | 系统管理员输入的酒店地址不能够与当前其他酒店的地址相同       |
| Hotel.Check.PhoneNumber  | 系统管理员输入的酒店电话必须是合法的                         |

#### 3.2.23 管理酒店工作人员

##### 3.2.23.1 特征描述

已经登陆并授权的系统管理员可以查看网站上所有酒店工作人员，并可以执行酒店工作人员的管理工作，包括添加、删除和修改酒店。

##### 3.2.23.2 刺激/相应序列

刺激： 系统管理员选择管理酒店工作人员

响应： 系统向系统管理员展示所有酒店工作人员及酒店工作人员基本信息

刺激： 系统管理员选择添加酒店工作人员

响应： 系统向系统管理员展示添加酒店工作人员页面

刺激： 系统管理员填写添加酒店工作人员基本信息后确认添加

响应： 系统存储新添加的酒店工作人员，并展示添加后的所有酒店工作人员

刺激： 系统管理员选择删除某酒店工作人员

响应： 系统删除对应的酒店工作人员，并展示删除后的所有酒店工作人员

刺激： 系统管理员选择更改某个酒店工作人员的基本信息

响应： 系统展示该酒店工作人员原始基本信息

刺激： 系统管理员输入更新后的信息

响应： 系统更新该酒店工作人员的基本信息，并展示更新后的所有酒店工作人员

##### 3.2.23.3 相关功能需求

|                                |                                                              |
| ------------------------------ | ------------------------------------------------------------ |
| HotelManager.Manage            | 系统应该允许系统管理员进行酒店工作人员的管理工作，并展示网站现有的所有酒店工作人员 |
| HotelManager.Manage.Add        | 在系统管理员要求添加酒店工作人员时，系统要跳转至添加酒店工作人员页面，参见HotelManager.Add |
| HotelManager.Manage.Delete     | 在系统管理员要求删除酒店工作人员时，系统执行删除酒店工作人员任务，参见HotelManager.Delete |
| HotelManager.Manage.Modify     | 在系统管理员要求修改酒店工作人员基本信息时，系统要跳转至修改酒店工作人员信息页面，参见HotelManager.Modify |
| HotelManager.Add.Input         | 在添加酒店工作人员时，系统要求系统管理员进行酒店工作人员基本信息输入 |
| HotelManager.Add.Cancel        | 系统管理员放弃添加酒店工作人员，系统回到展示网站所有酒店工作人员页面 |
| HotelManager.Add.Check         | 系统给管理员输入添加酒店工作人员基本信息后，系统验证信息的合法性，参见HotelManager.Check |
| HotelManager.Add.End           | 系统管理员结束输入并确认，系统存储添加的酒店工作人员并回到酒店工作人员展示页面 |
| HotelManager.Delete            | 系统管理员确认删除某个酒店工作人员，系统删除该酒店工作人员并回到酒店工作人员展示页面 |
| HotelManager.Delete.Cancel     | 系统管理员放弃删除某个酒店工作人员，系统不做改动，回到酒店工作人员展示页面 |
| HotelManager.Modify.Input      | 在修改酒店工作人员时，系统要求系统管理员对原有基本信息进行修改 |
| HotelManager.Modify.Cancel     | 管理员放弃修改酒店工作人员信息，系统不做改动，回到酒店工作人员展示页面 |
| HotelManager.Modify.Check      | 系统给管理员输入修改后的酒店工作人员基本信息后，系统验证信息的合法性，参见HotelManager.Check |
| HotelManager.Modify.End        | 系统管理员结束输入并确认，系统修改对应的酒店工作人员信息并回到酒店工作人员展示页面 |
| HotelManager.Check.Email       | 系统管理员输入的酒店工作人员用户邮箱必须是合法的             |
| HotelManager.Check.PhoneNumber | 系统管理员输入的酒店工作人员电话必须是合法的                 |
| HotelManager.Check.Password    | 系统管理员输入的酒店工作人员用户密码必须是合法的，即必须是6位及以上 |

#### 3.2.24 管理网站营销人员

##### 3.2.24.1 特征描述

已经登陆并授权的系统管理员可以查看网站上所有网站营销人员，并可以执行网站营销人员的管理工作，包括添加、删除和修改酒店。

##### 3.2.24.2 刺激/相应序列

刺激： 系统管理员选择管理网站营销人员

响应： 系统向系统管理员展示所有网站营销人员及网站营销人员基本信息

刺激： 系统管理员选择添加网站营销人员

响应： 系统向系统管理员展示添加网站营销人员页面

刺激： 系统管理员填写添加网站营销人员基本信息后确认添加

响应： 系统存储新添加的网站营销人员，并展示添加后的所有网站营销人员

刺激： 系统管理员选择删除某网站营销人员

响应： 系统删除对应的网站营销人员，并展示删除后的所有网站营销人员

刺激： 系统管理员选择更改某个网站营销人员的基本信息

响应： 系统展示该网站营销人员原始基本信息

刺激： 系统管理员输入更新后的信息

响应： 系统更新该网站营销人员的基本信息，并展示更新后的所有网站营销人员

##### 3.2.24.3 相关功能需求

|                               |                                                              |
| ----------------------------- | ------------------------------------------------------------ |
| SalesPerson.Manage            | 系统应该允许系统管理员进行网站营销人员的管理工作，并展示网站现有的所有网站营销人员 |
| SalesPerson.Manage.Add        | 在系统管理员要求添加网站营销人员时，系统要跳转至添加网站营销人员页面，参见SalesPerson.Add |
| SalesPerson.Manage.Delete     | 在系统管理员要求删除网站营销人员时，系统执行删除网站营销人员任务，参见SalesPerson.Delete |
| SalesPerson.Manage.Modify     | 在系统管理员要求修改网站营销人员基本信息时，系统要跳转至修改网站营销人员信息页面，参见SalesPerson.Modify |
| SalesPerson.Add.Input         | 在添加网站营销人员时，系统要求系统管理员进行网站营销人员基本信息输入 |
| SalesPerson.Add.Cancel        | 系统管理员放弃添加网站营销人员，系统回到展示网站所有网站营销人员页面 |
| SalesPerson.Add.Check         | 系统给管理员输入添加网站营销人员基本信息后，系统验证信息的合法性，参见SalesPerson.Check |
| SalesPerson.Add.End           | 系统管理员结束输入并确认，系统存储添加的网站营销人员并回到网站营销人员展示页面 |
| SalesPerson.Delete            | 系统管理员确认删除某个网站营销人员，系统删除该网站营销人员并回到网站营销人员展示页面 |
| SalesPerson.Delete.Cancel     | 系统管理员放弃删除某个网站营销人员，系统不做改动，回到网站营销人员展示页面 |
| SalesPerson.Modify.Input      | 在修改网站营销人员时，系统要求系统管理员对原有基本信息进行修改 |
| SalesPerson.Modify.Cancel     | 管理员放弃修改网站营销人员信息，系统不做改动，回到网站营销人员展示页面 |
| SalesPerson.Modify.Check      | 系统给管理员输入修改后的网站营销人员基本信息后，系统验证信息的合法性，参见SalesPerson.Check |
| SalesPerson.Modify.End        | 系统管理员结束输入并确认，系统修改对应的网站营销人员信息并回到网站营销人员展示页面 |
| SalesPerson.Check.Email       | 系统管理员输入的网站营销人员的用户邮箱必须是合法的           |
| SalesPerson.Check.PhoneNumber | 系统管理员输入的网站营销人员电话必须是合法的                 |
| SalesPerson.Check.Email       | 系统管理员输入的网站营销人员的用户密码必须是合法的，即必须是6位及以上 |

#### 3.2.25 系统管理员个人基本信息管理

##### 3.2.25.1 特征描述

已经登陆并授权的系统管理员可以查看自己的个人基本信息并进行管理。

##### 3.2.25.2 刺激/相应序列

刺激： 系统管理员要求查看自己的个人基本信息

响应： 系统展示系统管理员的个人基本信息

刺激： 系统管理员要求修改自己的个人基本信息

响应： 系统跳转至修改个人基本信息页面

刺激： 系统管理员修改完毕自己的个人基本信息并提交

响应： 系统验证信息合法后保存系统管理员更新后的个人基本信息

##### 3.2.25.3 相关功能需求

|                         |                                                              |
| ----------------------- | ------------------------------------------------------------ |
| Admin.Info              | 在系统管理员要求查看自己的个人基本信息时，系统应该查询到系统管理员的个人基本信息并向系统管理员展示 |
| Admin.Info.Modify       | 在系统管理员要求更改自己的个人基本信息时，系统应该允许系统管理员进行修改，参见Admin.Modify |
| Admin.Modify.Input      | 系统应当允许系统管理员输入自己修改的信息                     |
| Admin.Modify.Cancel     | 系统管理员可以放弃修改，系统回到系统管理员个人信息展示界面   |
| Admin.Modify.Check      | 系统管理员输入信息后，系统对系统管理员修改的信息进行合法性检验，参见Admin.Check |
| Admin.Modify.End        | 系统管理员修改完成后，系统存储修改后的系统管理员个人基本信息 |
| Admin.Check.PhoneNumber | 系统管理员修改的电话号码必须是合法的                         |
| Admin.Check.Password    | 系统管理员修改的密码必须是合法的，即必须是6位及以上          |

#### 3.2.26 查看网站交易情况

##### 3.2.26.1 特征描述

已经登陆并授权的网站营销人员可以查看网站近30日内的营销情况，并且可以将图表下载至本地。

##### 3.2.26.2 刺激/相应序列

刺激： 网站营销人员选择查看网站营销情况

响应：系统以折线图形式展示网站近30日内订单情况及营收情况

刺激： 网站营销人员选择以数据形式查看网站营销情况

响应： 系统以数据表格形式展示网站近30日内订单情况及营收情况

刺激： 网站营销人员下载折线图展示的网站营销情况

响应： 系统将折线图展示的网站营销情况下载至网站营销人员本地

##### 3.2.26.3 相关功能需求

|                           |                                                              |
| ------------------------- | ------------------------------------------------------------ |
| SalesPerformance.View     | 系统应当允许网站营销人员查看网站营销情况                     |
| SalesPerformance.Graph    | 当网站营销人员选择以折线图形式查看网站营销情况时，系统展示折线图形式的网站营销情况 |
| SalesPerformance.Chart    | 当网站营销人员选择以数据形式查看网站营销情况时，系统展示表格形式的网站营销情况 |
| SalesPerformance.Download | 当网站营销人员选择下载网站营销情况时，系统将折线图形式的网站营销情况下载至网站营销人员本地 |

#### 3.2.27 管理网站优惠策略

##### 3.2.27.1 特征描述

已经登陆并授权的网站营销人员可以查看所有网站优惠策略，并且可以添加、修改和删除网站优惠策略

##### 3.2.27.2 刺激/相应序列

刺激： 网站营销人员选择管理网站优惠券

响应： 系统向系统管理员展示已有的网站优惠券

刺激： 网站营销人员选择添加网站优惠券

响应： 系统向网站营销人员展示添加网站优惠券页面

刺激： 网站营销人员填写添加网站优惠券基本信息后确认添加

响应： 系统存储新添加的网站优惠券，并展示添加后的所有网站优惠券

刺激： 系统管理员选择删除某网站优惠券

响应： 系统删除对应的网站优惠券，并展示删除后的所有网站优惠券

刺激： 系统管理员选择更改某个网站营销人员的基本信息

响应： 系统展示该网站营销人员原始基本信息

刺激： 系统管理员输入更新后的信息

响应： 系统更新该网站营销人员的基本信息，并展示更新后的所有网站营销人员

##### 3.2.27.3 相关功能需求

#### 3.2.28 会员管理

##### 3.2.28.1 特征描述

##### 3.2.28.2 刺激/相应序列

##### 3.2.28.3 相关功能需求

#### 3.2.29 会员等级管理

##### 3.2.29.1 特征描述

##### 3.2.29.2 刺激/相应序列

##### 3.2.29.3 相关功能需求

#### 3.2.30 信用充值

##### 3.2.30.1 特征描述

##### 3.2.30.2 刺激/相应序列

##### 3.2.30.3 相关功能需求

#### 3.2.31 处理异常订单

##### 3.2.31.1 特征描述

##### 3.2.31.2 刺激/相应序列

##### 3.2.31.3 相关功能需求

#### 3.2.32 网站营销人员个人基本信息管理

##### 3.2.32.1 特征描述

已经登陆并授权的网站营销人员可以查看自己的个人基本信息并进行管理。

##### 3.2.32.2 刺激/相应序列

刺激： 网站营销人员要求查看自己的个人基本信息

响应： 系统展示网站营销人员的个人基本信息

刺激： 网站营销人员要求修改自己的个人基本信息

响应： 系统跳转至修改个人基本信息页面

刺激： 网站营销人员修改完毕自己的个人基本信息并提交

响应： 系统验证信息合法后保存网站营销人员更新后的个人基本信息

##### 3.2.32.3 相关功能需求

|                               |                                                              |
| ----------------------------- | ------------------------------------------------------------ |
| SalesPerson.Info              | 在网站营销人员要求查看自己的个人基本信息时，系统应该查询到网站营销人员的个人基本信息并向网站营销人员展示 |
| SalesPerson.Info.Modify       | 在网站营销人员要求更改自己的个人基本信息时，系统应该允许网站营销人员进行修改，参见SalesPerson.Modify |
| SalesPerson.Modify.Input      | 系统应当允许网站营销人员输入自己修改的信息                   |
| SalesPerson.Modify.Cancel     | 网站营销人员可以放弃修改，系统回到网站营销人员个人信息展示界面 |
| SalesPerson.Modify.Check      | 网站营销人员输入信息后，系统对网站营销人员修改的信息进行合法性检验，参见SalesPerson.Check |
| SalesPerson.Modify.End        | 网站营销人员修改完成后，系统存储修改后的网站营销人员个人基本信息 |
| SalesPerson.Check.PhoneNumber | 网站营销人员修改的电话号码必须是合法的                       |
| SalesPerson.Check.Password    | 系统管理员修改的密码必须是合法的，即必须是6位及以上          |

### 3.3 非功能需求

#### 3.3.1 安全性

**Safety4**:修改为：为防信息泄露，用户的密码密文存储。

#### 3.3.2 可维护性

**Modifiability2**:酒店的VIP等级制度可以在原有基础上，由网站营销人员进行修改，包括等级、需要达到的金额、折扣等，可以直接由web端修改，不需要改变底层逻辑及代码

#### 3.3.3 易用性

**Usability3**: 酒店及整个平台的订单、销售额由可视化图表的方法展示，方便查看与管理

**Usability4**：具有在酒店下方提问及查看他人问题、解答的功能，方便用户更好地了解酒店

**Usability5**：提供搜索功能，方便用户依据个人需求快速找到目标酒店

#### 3.3.4 可靠性

**Reliability2**：设置订单异常处理机制及申诉机制，保证逾期订单的正常处理及进行积分扣除

**Reliability3**：依照入住时间对房间数量进行核查，避免过量预订的情况

#### 3.3.5  业务规则

**BR6**：修改为：当多个特惠策略同时有效时，将叠加进行优惠。例如，顾客同时享有两个99%的折扣，

那么最终价格为：原价*99% *99%

#### 3.3.6 约束

**IC2**：用户的积分小于等于0时不可预订

### 3.4 数据需求

#### 3.4.1 数据定义

**DR2**: 系统需要存储酒店的基本信息，包括包括酒店名称、地址、商圈、简介、设施服务、星级、联系电话、得分情况

**DR4**：系统需要存储对酒店提问的基本信息，包括提问账户ID、提问账户名称、提问酒店ID、问题内容、问题是否显示（被删除）

**DR5**：系统需要存储对酒店问题的回答的基本信息，包括回答者的账户ID、账户名、问题ID、回答内容

**DR6**：系统需要存储优惠的基本信息，包括优惠描述、酒店ID、优惠劵类型、优惠券名、条件金额、条件房间数、折扣

**DR7**：系统需要存储订单的基本信息，包括用户ID，酒店ID，酒店名称，酒店电话，入住时间，离开时间，房间类型，房间数，入住人数，是否有小孩，创建时间，订单金额，用户名称，用户电话，订单状态，评论，得分

**DR8**：系统需要存储用户VIP的基本信息，包括VIP类型、用户ID、公司名称（可选）、VIP等级、消费金额、状态、折扣

**DR9**：系统需要存储VIP等级制度的基本信息，包括VIP类型、等级、需要达到的消费金额、折扣

#### 3.4.2 默认数据

默认数据用于以下情况：

1. 系统中新增加数据时

2. 编辑数据时不小心将相关内容清空时

   **Default1**: 房间数量默认为0

   **Default2**: 费用或价格的数据默认为0

   **Default3**: 信誉积分数据默认为100

   **Default4**: 用户的默认身份为普通用户

   **Default5**: 入住时间和离店时间默认为当天至次日

   **Default6**: 网站促销策略默认为原价

   **Default7**: 酒店房间订单默认为无儿童

   **Default8**: 入住人数默认为1人

   **Default9**: 酒店早餐默认为不含

   **Default10**:搜索中的金额上限默认为1000

   **Default11**：搜索中的酒店评分下限默认为3分

   **Default12**：搜索中的酒店星级默c认为全选

   **Default13**：新注册VIP默认等级为1级

   **Default14**：酒店的被评价次数默认为0

   **Default15**：酒店的初始得分默认为5分

   **Default16**：用户的生日信息默认为空

   **Default17**：用户的可免责（不扣除积分）取消订单次数默认为3

   **Default18**：订单的初始状态为未入住

   **Default19**：酒店及平台的订单状况默认为近30天内的数据

   #### 3.4.3 数据格式要求

   **Format1**: 酒店编号为4位int型数字

   **Format2**: 订单编号为13位0~9的数字

   **Format3**: 价格和费用必须是大于等于0、精确到小数点后两位的浮点数，单位为CNY

   **Format4**: 日期的格式必须是yyyy-mm-dd

   **Format5**: 数量的格式必须是正整数

   **Format6**：电话号码的长度限制为11位

   **Format7**：订单评分为整数

   **Format8**：酒店评分为保留一位小数

### 3.5 其他需求

#### 3.5.2 注册需求

使用该系统时，个人用户需要通过邮箱进行注册，酒店用户、网站营销人员需要管理员通过邮箱进行注册并分发。

