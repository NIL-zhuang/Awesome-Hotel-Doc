# 需求规格说明文档

## 更新历史

|           修改人员           |      日期      | 变更原因       |  版本号  |
| :--------------------------: | :------------: | :------------- | :------: |
| 庄子元、程荣鑫、韩禧、郭礼华 |    2020.4.9    | 添加引言等内容 | 最初草稿 |
| 庄子元、程荣鑫、韩禧、郭礼华 | 2020.4.10-4.18 | 完善内容       | v1.0  |

## 目录

[TOC]

## 1. 引言

### 1.1 目的

本文档描述了 ***Awesome Hotel*** 酒店房间预订系统的功能需求和非功能性需求。开发小组的软件系统实现和验证工作都以此文档为依据。

除特殊说明外，本文档包含的需求都是高优先级的需求。

### 1.2 范围

***Awesome Hotel*** 酒店房间预订系统是软件工程与计算Ⅱ开发小组制作的在线酒店房间预订系统，开发目的是为了帮助用户实现线上的酒店客房预订服务。功能包括用户个人基本信息管理、浏览酒店详细信息、预定酒店、查看订单等，以及酒店工作人员的基本信息管理、维护酒店基本信息、录入可用客房等管理功能，和系统管理员的注册酒店工作人员账号、更改管理员密码等功能。

通过 ***Awesome Hotel*** 酒店房间预订系统，可以方便用户预定酒店客房，节约时间；为酒店减少线下售房，降低经营成本，从而吸引更多顾客，提高用户的满意度和酒店的盈利。

### 1.3 参考文献

1. IEEE标准
2. 酒店预订系统用例文档
3. 《软件工程与计算（卷二） 软件开发的技术基础》

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

随着工作和生活节奏的加快，人们的差旅出行需要迅速提升，但是传统上的线下
酒店预订模式有着很多不方便之处：

* 因为目的地往往是外地，无法全面了解当地的酒店情况，选择范围大大受限，
难以选择到最适合的酒店；
* 提前预订的双方都有风险，酒店担心恶意预订，顾客担心酒店不符合预期；
* 酒店要及时掌握预订顾客的行程变化也会比较麻烦，需要频繁的长途联系；
* 虽然过去的体验能够给未来带来参考，但是时间一长很多信息就会被遗忘掉，
过去的参考作用就受到限制。事实上，过去的出行体验会大大影响人们未来
的选择；
* 同时，我们的酒店预定系统是一个Web应用，相比电话预定具有不可比拟的可视化优势，有助于引导客户自主预定。

#### 2.1.2 业务需求

**BR1**: 一个月内，入驻网站的酒店的工作人员处理客户订单效率提升40%

**BR2**: 6个月后，入驻网站酒店的经营成本降低15%

**BR3**: 一年内，线上平台预订量占据酒店总订房量的80%，酒店预定平台网站 ***Awesome Hotel*** 实现盈利

**BR4**: 一年内，入驻网站的酒店销售额增长20%，客流量增长20%

### 2.2 项目功能

1. 全面展现任一个地域内的酒店信息，帮助顾客进行更好地比较与选择；
2. 执行信用累计制度，防范恶意预订；
3. 进行房客评价，反映酒店与描述的相符程度；
4. 让酒店可以及时了解到所有预订订单的变化动态；
5. 帮助顾客建立体验历史记录，在顾客预订时发挥历史记录的作用；
6. 为了进行网站推广，吸引酒店和顾客的入驻，网站会在系统中补贴费用帮助酒店进行促销。

### 2.3 用户特征

|     用户     | 描述                                                                                                                                                                                                                                                                       |
| :----------: | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|     客户     | 每家酒店都会有多个客户，在线上进行酒店的预订，线下办理入住。具有简单的计算机操作能力，对酒店预订的流程细节不明。                                                                                                                                                                 |
| 酒店工作人员 | 每家酒店有至少一个酒店工作人员，每天要进行一些订单处理工作，同时为了统计酒店交易额，了解酒店经营情况，酒店工作人员会定期查看订单。此外，酒店工作人员还要处理制定酒店促销策略的业务。酒店工作人员工作繁忙，希望系统能够帮助他们提升工作效率。酒店工作人员的计算机技能较好。 |
| 网站营销人员 | 系统有至少一个网站营销人员具有较好的计算机操作能力，会设计和更新网站营销策略，管理VIP客户的折扣额度和对应商圈的折扣。希望新系统能更加方便营销人员的工作。                                                                                                                                                                       |
| 网站管理人员 | 整个系统只有一个管理员，他的工作是管理客户、酒店工作人员以及网站营销人员的信息，并且能够管理酒店的变更并为酒店分配唯一的工作人员账号。                                                                                                                                     |

### 2.4 约束

* **CON1**: 系统将运行在网页浏览器上。
* **CON2**: 系统使用web界面。
* **CON3**: 项目要使用持续集成方法进行开发。
* **CON4**: 在开发中，开发人员要提交酒店预定系统用例文档、软件需求规格说明文档、软件体系结构描述文档、软件详细设计描述文档以及测试报告。
* **CON5**: 本项目将使用Spring Boot和MyBatis作为后端框架，使用Vue进行前端开发。

### 2.5 假设与依赖

1. 线下业务会与线上系统进行数据同步，因此线上线下数据不会产生冲突（例如：不会出现同一个客房在一个时间段被线上和线下被两个客户预定的行为）。
2. 超出本系统范围产生的异常均由线下处理（例如：支付系统故障、数据库服务器异常等第三方错误）。
3. 我们的服务器能够处理所有潜在用户的请求，并能够存储所有观众产生的数据（可能产生的数据参见3.4.1 数据定义）。
4. 网络畅通，客户端与服务器通信时，不会发生连接断开等网络异常。

## 3 详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面

* UI1 首页

![front_end](https://lemonzzy.oss-cn-hangzhou.aliyuncs.com/img/netUI.png)

* UI2 会员中心

![VIP center](https://lemonzzy.oss-cn-hangzhou.aliyuncs.com/img/UI2-vip.png)

#### 3.1.2 通信接口

**CI**: 系统和客户端使用HTTPS进行通信。

### 3.2 功能需求

#### 3.2.1  浏览订单

##### 3.2.1.1 特征描述

一个经过系统验证的用户选择浏览自己的订单情况，可以选择对未执行的正常订单进行撤销操作，随后系统完成用户订单状态、用户信誉积分和酒店房间状态的修改。

优先级=高

##### 3.2.1.2 刺激/响应序列

刺激： 用户选择浏览自己的已有订单

相应： 系统向用户展示其所有订单

刺激： 用户选择撤销某个未执行的正常订单

相应： 系统在订单列表中将该订单置为已撤销状态，并更新订单情况，客房情况和用户的信誉值

刺激： 用户选择结束浏览订单

相应： 系统关闭当前订单浏览任务

##### 3.2.1.3 相关功能需求

|                                       |                                                                                                              |
| ------------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| BrowseOrders.SelectType               | 系统应该允许用户选择浏览自己的某种类型的订单                                                                 |
| BrowseOrders.Orders.GetAllOrders      | 在用户选择浏览某种类型的订单后，系统根据用户id与订单类型去获取用户的所有该类型的订单                         |
| BrowseOrders.Orders.List              | 系统显示该用户的所有订单                                                                                     |
| BrowseOrders.Orders.NormalExecuted    | 如果订单状态为正常且已执行，系统将订单状态显示为正常且已执行                                                 |
| BrowseOrders.Orders.NormalNotExecuted | 如果订单状态为正常但未执行，系统将订单状态显示为正常且未执行，并提供撤销该订单的选项                         |
| BrowseOrders.Orders.Abnormal          | 如果订单状态为异常，系统将订单状态显示为异常                                                                 |
| BrowseOrders.ShowDetails              | 在用户选择查看某个具体的订单时，系统应该显示该订单的详细情况，包括交易日期、金额、订单状态、客户信息         |
| BrowseOrders.ShowDetails.back         | 系统应该允许用户退出当前的订单详情页面，回退到原来的订单列表页面                                             |
| BrowseOrders.AnnulOrder               | 在用户选择撤销未执行的正常订单时，系统进行询问以确认撤销                                                     |
| BrowseOrders.AnnulOrder.Ensure        | 在用户选择撤销未执行的正常订单时，用户进行撤销行为的确认                                                     |
| BrowseOrders.AnnulOrder.Cancel        | 在用户选择撤销未执行的正常订单时，用户可以选择取消撤销订单                                                   |
| BrowseOrders.AnnulOrder.Update        | 在用户选择撤销某个未执行的正常订单后，系统更新相关数据，参见BrowseOrders.Update                              |
| BrowseOrders.Update                   | 在用户确认撤销某个未执行的订单之后，系统更新相关的信息                                                       |
| BrowseOrders.Update.Order.Status      | 系统更新相应的订单的状态                                                                                     |
| BrowseOrders.Update.Member.Credit     | 在用户撤销未执行的正常订单时，若当前时间距离最晚订单执行时间不足6小时，系统要对用户的信誉积分扣除总价值的1/2 |
| BrowseOrders.Update.Hotel.Room.Amount | 在用户撤销掉某个未执行的正常订单之后，需要去更新相应酒店的房间数量信息                                       |
| BrowseOrders.End                      | 系统应该允许用户结束浏览自己的订单情况                                                                       |

#### 3.2.2 搜索酒店

##### 3.2.2.1 特征描述

一个经过系统验证的用户在选择进行酒店搜索后，输入相关的查询条件，后台算法根据用户的期望进行组合并筛选，将符合条件的酒店展示给用户

优先级=高

##### 3.2.2.2 刺激/响应序列

刺激： 用户选择搜索酒店

响应： 系统给出搜索表单

刺激： 用户填写搜索表单后提交，表单内容包括日期、地址、商圈、酒店特色、价格、酒店评分

响应： 系统根据搜索条件进行筛选，将符合条件的酒店展示给用户

刺激： 用户选择结束酒店搜索

相应： 系统结束酒店搜索任务

##### 3.2.2.3 相关功能需求

|                                      |                                                                                                    |
| ------------------------------------ | -------------------------------------------------------------------------------------------------- |
| HotelSearch.Input                    | 系统应该允许用户在搜索酒店时进行相关条件的输入                                                     |
| HotelSearch.Input.BaseInfo           | 在用户输入了地址和商圈这两个基本信息后，系统要执行酒店的搜索任务                                   |
| HotelSearch.Input.BaseInfo.Address   | 系统应该允许用户输入搜索的地址                                                                     |
| HotelSearch.Input.BaseInfo.BizRegion | 系统应该允许用户输入搜索的商圈                                                                     |
| HotelSearch.Input.AdditonalInfo      | 在用户输入了额外的搜索信息之后，系统要对搜索到的酒店进行相应的筛选，参见HotelSearch.AdditionalInfo |
| HotelSearch.AdditionalInfo.HotelName | 系统应该允许用户输入搜索的酒店的名称                                                               |
| HotelSearch.AdditionalInfo.HotelStar | 系统应该允许用户输入搜索的酒店的星级                                                               |
| HotelSearch.AdditionalInfo.HotelRate | 系统应该允许用户输入搜索的酒店的评分区间                                                           |
| HotelSearch.AdditionalInfo.HotelRoom | 系统应该允许用户选择搜索的酒店的房间的相关要求，参见HotelSearch.HotelRoom                          |
| HotelSearch.HotelRoom.Type           | 系统应该允许用户选择搜索的房间的类型                                                               |
| HotelSearch.HotelRoom.Price          | 系统应该允许用户输入搜索的房间的原始价格区间                                                       |
| HotelSearch.HotelRoom.ValidDate      | 系统应该允许用户输入搜索的房间的有空房期间，信息包括房间数量、入住日期、退房日期                   |
| HotelSearch.GetHotelList             | 在用户指定好搜索条件后系统应该执行酒店的搜索任务，并获取相应的酒店列表                             |
| HotelSearch.End                      | 系统应该允许用户结束酒店的搜索                                                                     |

#### 3.2.3 注册会员

##### 3.2.3.1 特征描述

客户注册为酒店会员。会员分为两种：普通会员、企业会员。普通会员登记生日、企业会员登记企业名称

优先级 = 中

##### 3.2.3.2 刺激响应序列

刺激：用户选择注册普通会员

响应：系统进入普通会员注册页面

刺激：用户在普通会员界面登记生日

响应：系统更新用户类型和生日，显示普通会员注册成功

刺激：用户选择注册企业会员

响应：系统进入企业会员注册界面

刺激：用户在企业会员界面登记企业名称

响应：系统更新用户类型和对应企业，显示企业会员注册成功

##### 3.2.3.3 相关功能需求

|                                              |                                                    |
| -------------------------------------------- | -------------------------------------------------- |
| MemberRegister.SelectType                    | 系统允许用户选择注册类型，分为普通会员或企业会员   |
| MemberRegister.SelectType.Normal             | 用户可以选择普通会员，详见MemberRegister.Normal    |
| MemberRegister.SelectType.Corporate          | 用户可以选择企业会员，详见MemberRegister.Corporate |
| MemberRegister.Normal                        | 系统允许用户注册普通会员                           |
| MemberRegister.Normal.Input                  | 在注册普通会员时，系统允许用户输入                 |
| MemberRegister.Normal.Input.Birthday         | 在注册普通会员时，用户需要输入生日                 |
| MemberRegister.Corporate                     | 系统允许用户注册企业会员                           |
| MemberRegister.Corporate.Input               | 在注册企业会员时，系统允许用户输入                 |
| MemberRegister.Corporate.Input.CorporateName | 在注册企业会员时，用户需要输入企业名               |
| MemberRegister.Update                        | 系统更新用户的状态                                 |
| MemberRegister.Update.Type                   | 系统更新用户的类型                                 |
| MemberRegister.Update.Date                   | 系统更新用户的生日信息                             |
| MemberRegister.Update.Corporate              | 系统更新用户的企业信息                             |

#### 3.2.4 制定酒店促销策略

##### 3.2.4.1 特征描述

  一个经过系统验证的酒店工作人员开始制定促销策略，选择指定的促销类型，包括生日特惠折扣，三间及以上预定特惠，合作企业客户折扣，双11活动折扣等，完成酒店促销策略的表单填写，提交促销策略。

  优先级=高

##### 3.2.4.2 刺激/响应序列

  刺激：酒店工作人员输入优惠券类型、券名、简介、达标金额和优惠金额

  响应：系统显示已输入的优惠券详细信息

  刺激：酒店工作人员取消制定促销策略任务

  响应：系统关闭当前制定酒店促销策略任务

  刺激：酒店工作人员确定促销策略，要求提交

  响应：系统保存当前酒店促销策略，更新促销策略列表，关闭当前制定策略任务

##### 3.2.4.3 相关功能需求

|                              |                                                                                                                            |
| ---------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| HotelCoupon.Input            | 系统允许酒店工作人员在制定促销策略中进行键盘输入，输入内容包括优惠券类型、券名、简介、达标金额和优惠金额                   |
| HotelCoupon.Input.SelectType | 系统允许酒店工作人员选择制定指定类型的酒店促销策略，包括生日特惠折扣，三间及以上预定特惠，合作企业客户折扣，双11活动折扣等 |
| HotelCoupon.Input.Cancle     | 在酒店工作人员输入取消命令时，系统关闭当前制定酒店促销策略任务                                                             |
| HotelCoupon.Input.Del        | 系统应该允许酒店工作人员删除已填写的策略信息条目                                                                           |
| HotelCoupon.Input.Modify     | 系统应该允许酒店工作人员对已经填写的策略信息进行修改                                                                       |
| HotelCoupon.Input.Reset      | 在酒店工作人员输入重置命令时，系统应该清空当前表单的所有已填信息，重新开始制定策略任务                                     |
| HotelCoupon.Input.Submit     | 在酒店工作人员输入提交命令时，系统保存当前酒店促销策略，更新数据，参见HotelCoupon.Submit                                   |
| HotelCoupon.Input.Money      | 系统应该对酒店工作人员输入的金额进行检查，详见HotelCoupon.Money                                                            |
| HotelCoupon.Input.Invalid    | 在酒店工作人员输入为空时，系统提示网站营销人员输入相应信息                                                                 |
| HotelCoupon.Money            | 系统要求酒店工作人员选择金额的单位（目前仅支持RMB），并在键盘输入具体数额                                                  |
| HotelCoupon.Money.Invalid    | 酒店工作人员输入了小于等于0的数额，系统拒绝输入，并提示错误信息                                                            |
| HotelCoupon.Money.Warn       | 酒店工作人员输入的优惠金额大于等于达标金额，系统发出警告，但不阻止                                                         |
| HotelCoupon.Submit           | 系统提交当前促销策略表单                                                                                                   |
| HotelCoupon.Submit.Update    | 系统更新促销策略信息列表                                                                                                   |
| HotelCoupon.Submit.End       | 酒店工作人员提交成功后，系统提示提交成功，系统执行结束制定策略任务，参见HotelCoupon.End                                    |
| HotelCoupon.End              | 系统应该允许酒店工作人员要求结束制定酒店促销策略任务                                                                       |
| HotelCoupon.End.Timeout      | 在制定酒店促销策略任务开始30分钟后还没有接到酒店工作人员请求时，系统取消当前任务                                           |

#### 3.2.5 浏览订单

##### 3.2.5.1 特征描述

  一个经过系统验证的酒店工作人员开始浏览所属酒店的订单，包括未执行的、已执行、异常的和已撤销的订单。

  优先级=高

##### 3.2.5.2 刺激/响应序列

刺激：酒店工作人员选择要查看订单的类型

响应：系统显示对应类型的订单

刺激：酒店工作人员取消浏览订单任务

响应：系统关闭当前订单浏览任务

##### 3.2.5.3 相关功能需求

|                              |                                                                                                              |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------ |
| BrowseOrders.SelectType      | 系统允许酒店工作人员选择要查看的具体订单类型，选择后进入对应类型的订单页面                                   |
| BrowseOrders.ShowDetail      | 在酒店工作人员选择查看某个具体的订单时，系统应该显示该订单的详细情况，包括交易日期、金额、订单状态、客户信息 |
| BrowseOrders.ShowDetail.Back | 系统应该允许酒店工作人员退出当前的订单详情页面，回退到原来的订单列表页面                                     |
| BrowseOrders.End             | 系统应该允许酒店工作人员要求结束浏览订单任务                                                                 |

#### 3.2.6 订单执行

##### 3.2.6.1 特征描述

  一个经过系统验证的酒店工作人员在确认用户入住时，更改该用户的订单状态为已入住。

当用户离开时，由酒店工作人员办理订单完成，更改该用户的订单状态为已完成。

  优先级=高

##### 3.2.6.2 刺激/响应序列

  刺激：酒店工作人员在系统中确认客户入住

  响应：系统修改订单状态为已入住

  刺激：酒店工作人员在系统中确认订单完成

  相应：系统修改订单状态为已完成，并奖励用户积分

##### 3.2.6.3 相关功能需求

|                             |                                                        |
| --------------------------- | ------------------------------------------------------ |
| Order.checkIn               | 系统应该允许酒店工作人员输入执行订单的命令             |
| Order.checkIn.Status        | 系统把被酒店工作人员执行的订单状态更改为已执行         |
| Order.checkIn.End           | 完成状态更改后，系统提示执行成功，结束当前订单执行任务 |
| Order.checkOut              | 系统应该允许酒店工作人员输入完成订单的命令             |
| Order.checkOut.Status       | 系统把酒店工作人员执行的订单状态更改为已完成           |
| Order.checkOut.chargeCredit | 系统更新用户的信用积分，作为完成订单奖励               |
| Order.checkOut.End          | 完成状态更改后，系统提示执行成功，结束当前订单执行任务 |

#### 3.2.7 制定网站促销策略

##### 3.2.7.1 特征描述

  一个经过系统验证的网站营销人员开始制定网站促销策略（包含双11活动折扣、生日折扣、满减折扣等），完成网站促销策略的表单填写，提交促销策略。

  优先级=高

##### 3.2.7.2 刺激/响应序列

  刺激：网站营销输入优惠券类型、券名、简介、达标金额和优惠金额

  响应：系统显示已输入的优惠券详细信息

  刺激：网站营销人员取消制定促销策略任务

  响应：系统关闭当前制定网站促销策略任务

  刺激：网站营销人员确定促销策略，要求提交

  响应：系统保存当前网站促销策略，更新促销策略列表，关闭当前制定策略任务

##### 3.2.7.3 相关功能需求

|                                |                                                              |
| ------------------------------ | ------------------------------------------------------------ |
| WebsiteCoupon.Input            | 系统允许网站营销人员在制定促销策略中进行键盘输入，输入内容包括优惠券类型、券名、简介、达标金额和优惠金额 |
| WebsiteCoupon.Input.SelectType | 系统允许网站营销选择制定指定类型的网站促销策略               |
| WebsiteCoupon.Input.Cancle     | 在网站营销人员输入取消命令时，系统关闭当前制定网站促销策略任务 |
| WebsiteCoupon.Input.Del        | 系统应该允许网站营销人员删除已填写的策略信息条目             |
| WebsiteCoupon.Input.Modify     | 系统应该允许网站营销人员对已经填写的策略信息进行修改         |
| WebsiteCoupon.Input.Reset      | 在网站营销人员输入重置命令时，系统应该清空当前表单的所有已填信息，重新开始制定策略任务 |
| WebsiteCoupon.Input.Submit     | 在网站营销人员输入提交命令时，系统保存当前网站促销策略，更新数据，参见WebsiteCoupon.Submit |
| WebsiteCoupon.Input.Money      | 系统应该对网站营销人员输入的金额进行检查，详见WebsiteCoupon.Money |
| WebsiteCoupon.Input.Empty      | 在网站营销人员输入为空时，系统提示网站营销人员输入相应信息   |
| WebsiteCoupon.Money            | 系统要求网站营销人员选择金额的单位（目前仅支持RMB），并在键盘输入具体数额 |
| WebsiteCoupon.Money.Invalid    | 网站营销人员输入了小于等于0的数额，系统拒绝输入，并提示错误信息 |
| WebsiteCoupon.Money.Warn       | 网站营销人员输入的优惠金额大于等于达标金额，系统发出警告，但不阻止 |
| WebsiteCoupon.Submit           | 系统提交当前促销策略表单                                     |
| WebsiteCoupon.Submit.Update    | 系统更新促销策略信息列表                                     |
| WebsiteCoupon.Submit.End       | 网站营销人员提交成功后，系统提示提交成功，系统执行结束制定策略任务，参见WebsiteCoupon.End |
| WebsiteCoupon.End              | 系统应该允许网站营销人员要求结束制定网站促销策略任务         |
| WebsiteCoupon.End.Timeout      | 在制定网站促销策略任务开始30分钟后还没有接到网站营销人员请求时，系统取消当前任务 |

#### 3.2.8 用户管理

##### 3.2.8.1 特征描述

在用户需要、处于管理的需要时，查询用户信息或更改用户信息。在业务需要时，添加网站营销人员。此处的用户包括：客户、酒店工作人员、网站营销人员。

优先级=高

##### 3.2.8.2 刺激/响应序列

刺激：管理员打开用户信息界面，输入查询

响应：系统返回被查询用户的信息

刺激：管理员修改用户信息并提交

响应：系统更新用户信息，并反馈结果

刺激：管理员添加网站营销人员

响应：系统添加网站营销人员信息，并反馈结果

##### 3.2.8.3 相关功能需求

|                                |                                                                          |
| ------------------------------ | ------------------------------------------------------------------------ |
| Manage.Search                  | 系统管理员通过字段信息检索用户                                           |
| Manage.User                    | 在管理员查询后/点击后，系统选中并返回被选定的用户账号                    |
| Manage.User.Information        | 查询用户信息，系统将信息返回并展示于页面                                 |
| Manage.User.Information.Change | 修改用户信息，由管理员进行修改，并由系统反馈修改结果                     |
| Manage.User.Information.Error  | 修改用户信息时进行检查，如果违反修改逻辑则拒绝操作，并反馈错误信息       |
| Manage.User.Addsalesman        | 系统添加网站营销人员                                                     |
| Manage.User.Addsalesman.Error  | 在添加网站营销人员时进行检查，如果违法添加逻辑则拒绝操作，并反馈错误信息 |
| Manage.User.Typeof             | 系统查询用户种类（分为客户、酒店工作人员、网站营销人员）                 |

#### 3.2.9 添加酒店及其工作人员

##### 3.2.9.1 特征描述

在酒店申请通过后，由管理员依据申请信息添加酒店名称，再添加酒店工作人员，并将其交给对应酒店。

##### 3.2.9.2 刺激/响应序列

刺激：管理员打开酒店注册界面，输入酒店基本信息

响应：系统进行核对，并返回核对结果

刺激：管理员在核对信息后进行酒店添加

响应：系统更新酒店数据，并反馈结果

刺激：管理员添加酒店工作人员

响应：系统一个返回工作人员账号

##### 3.2.9.3 相关功能需求

|                           |                                                                                  |
| ------------------------- | -------------------------------------------------------------------------------- |
| Manage.AddHotel           | 管理员进入添加酒店的页面，输入相关信息                                           |
| Manage.Exam               | 系统检查酒店是否重复注册，如果已经注册则提示错误信息并拒绝注册                   |
| Manage.Hotel.AddWorker    | 管理员对酒店用户进行管理，添加酒店工作人员                                       |
| Manage.Hotel.Worker.Exam  | 检查工作人员数量，每个酒店只能有一个工作人员，如果不符合则拒绝操作并反馈错误信息 |
| Manage.Hotel.Cancellation | 将不再与平台合作的酒店进行注销，同时将与该酒店关联的工作人员账户注销             |

### 3.3 非功能需求

#### 3.3.1  安全性

* **Safety1**: 系统只允许经过验证和授权的用户使用，因此需要每个用户完成注册并登录。
* **Safety2**: 系统应该按照用户身份验证用户的访问权限,,客户只能查看和维护自己的信息，酒店工作人员只能处理自己所属的酒店的工作，网站工作人员不能参与酒店管理工作，网站管理员不能对酒店或用户信息进行操作。
* **Safety3**: 系统中有一个默认的管理员账户，管理员账户信息只允许管理员用户修改账户密码，其余字段不可修改。
* **Safety4**: 用户的密码必须以密文存储。

#### 3.3.2  可维护性

* **Modifiability1**: 酒店促销策略和网站营销策略将来会出现新的类型，开发人员可以在原有架构上进行扩展，且不影响之前的业务与功能。

#### 3.3.3  易用性

* **Usability1**: 所有类型人员都不需要专门的培训，都可以在10 分钟内完成任一个操作任务。
* **Usability2**: 本项目在所有支持es6的web浏览器中均可正常使用。

#### 3.3.4  可靠性

* **Reliability1**: 多个用户请求发生冲突时，将根据HTTPS请求到达浏览器时的先后顺序处理。

#### 3.3.5  业务规则

**BR1**: 适用（额度，参照日期）的总额折扣推广策略

（促销额度 <= 额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

**BR2**: 适用（额度，顾客生日）的生日特惠折扣策略

（促销额度 <= 额度）而且（（开始日期 = 顾客生日）并且（结束日期 = 顾客生日的后一天））

**BR3**: 适用（额度，预订房间数）的预订多间特惠策略

（促销额度 <= 额度）而且（预订房间数 >= 3）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

**BR4**: 适用（额度，客户类别）的合作企业客户特惠策略

（促销额度 <= 额度）而且（客户类别 = 合作企业客户）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

**BR5**: 适用（额度，特殊节日）的双十一特惠策略

（促销额度 <= 额度）而且（参照日期 = 11月11日）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

**BR6**：当多个特惠策略同时有效时，选择折扣额度最大的那项策略

#### 3.3.6  约束

* **IC1**: 分布式部署：用户、酒店工作人员、网站营销人员、网站管理人员分布在不同的地方，所以要提供各自的应用部署，即用户、酒店工作人员、网站营销人员、网站管理人员都在 web上使用本系统。

### 3.4  数据需求

#### 3.4.1  数据定义

**DR1**: 系统需要存储客户的基本信息，包括包括账户名、密码、姓名、手机号或邮箱以及历史订单和订单详情；管理员的基本信息，包括姓名、手机号、邮箱和工号

**DR2**: 系统需要存储酒店的基本信息，包括包括酒店名称、地址、商圈、简介、设施服务、星级。

**DR3**: 系统需要存储客房的基本信息包括房间类型、数量、原始价格以及房间照片（可选）等，客房列表的基本信息，即所有可被预定的客房。

#### 3.4.2  默认数据

默认数据用于以下情况：

1. 系统中新增加数据时
2. 编辑数据时不小心将相关内容清空时

**Default1**: 房间数量默认为0
**Default2**: 费用或价格的数据默认为0
**Default3**: 信誉积分数据默认为100
**Default4**: 用户的默认身份为普通用户
**Default5**: 入住时间和离店时间默认为当天至次日
**Default6**: 网站促销策略默认为原价
**Default7**: 酒店房间订单默认为无儿童
**Default8**: 入住人数默认为1人
**Default9**: 酒店早餐默认为不含

#### 3.4.3  数据格式要求

**Format1**: 酒店编号为4位int型数字
**Format2**: 订单编号为13位0~9的数字
**Format3**: 价格和费用必须是大于等于0、精确到小数点后两位的浮点数，单位为CNY
**Format4**: 日期的格式必须是yyyy-mm-dd
**Format5**: 数量的格式必须是正整数

### 3.5  其他

#### 3.5.1 安装需求

**Install1**: 部署系统时，要初始化用户、订单信息、入驻酒店列表、各酒店工作人员、各酒店房间信息、管理员等重要数据。

**Install2**: 用户使用该系统时，需要安装兼容ECMAScript 5的浏览器以支持Vue。
